{% extends "dashboard/admin/base.html" %}

{% block page_title %}User{% endblock %}

{% block admin_content %}
<div class="card">
  <div class="card-header" style="display:flex;justify-content:space-between;align-items:center;">
    <h2 style="margin:0;">{{ user_obj.email }}</h2>
    <div>
      <a class="btn btn-secondary" href="{% url 'dashboard:admin:user_update' user_obj.pk %}">Edit</a>
    </div>
  </div>
  <div class="card-body">
    <p><strong>Name:</strong> {{ user_obj.get_full_name }}</p>
    <p><strong>Role:</strong> {{ user_obj.get_role_display }}</p>
    <p><strong>Active:</strong> {{ user_obj.is_active }}</p>
    <p><strong>Staff:</strong> {{ user_obj.is_staff }}</p>

    <h3>Devices</h3>
    <ul>
      {% for d in devices %}
        <li><a href="{% url 'dashboard:admin:device_detail' d.pk %}">{{ d }}</a></li>
      {% empty %}
        <li>No assigned devices.</li>
      {% endfor %}
    </ul>

    <h3>Questionnaires</h3>
    <ul>
      {% for q in questionnaires %}
        <li>{{ q }}</li>
      {% empty %}
        <li>No questionnaires created by this user.</li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}

